<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BeyondDEX</title>

  <!-- Fonts & CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="site-header container">
    <a class="brand" href="/">
      <img src="assets/bdx.png" alt="BeyondDEX Logo" class="brand-logo" />
      <span class="brand-text">BeyondDEX</span>
    </a>

    <nav class="nav" id="nav">
      <a href="/index.html">Home</a>
      <a href="/dashboard.html">Dashboard</a>
      <a href="/affiliateSignUp.html">Affiliate</a>
      <div class="user-container">
        <div class="user-circle" id="userCircle">?</div>
        <div class="dropdown" id="dropdownMenu"></div>
      </div>
    </nav>

    <button class="nav-toggle" id="navToggle" aria-label="Open menu">â˜°</button>
  </header>

  <!-- Hero -->
  <section class="hero container">
    <div class="text-column">
      <div class="text-wrapper">
        <h1>Your Daily Crypto Edge</h1>

        <p class="desktop-text">
          Get early access to BeyondDEX â€” your institutional-grade trading edge. We deliver the most critical on-chain,
          macro, and market signals in one clean, 60-second daily report.<br><br>
          Built like a hedge fund desk note, designed for traders who demand clarity. Join the waitlist today and be first
          in line when we launch.
        </p>

        <p class="mobile-text">
          Get early access to institutional-grade trading insights â€” all in 60 seconds. Join the waitlist now.
        </p>

        <button class="btn solid lg" id="joinWaitlistBtn">Join Waitlist</button>

        <div class="meta">
          <span>âš¡ Real-time data</span>
          <span>ðŸ”’ Secure auth</span>
          <span>ðŸ§  AI insights</span>
        </div>
      </div>
    </div>

    <div class="image-column">
      <div class="glass-card">
        <div class="card-bar"></div>
        <img src="assets/dashboard-fix.png" alt="BeyondDEX Dashboard Screenshot" class="hero-img" />
      </div>
    </div>
  </section>

  <!-- Affiliate -->
  <section class="affiliate container">
    <h2>Join Our Affiliate Program</h2>

    <p class="desktop-affiliate">
      Help us grow the BeyondDEX community and earn recurring income.
      As an affiliate, you'll receive 30% of the revenue for every user you refer â€” each month they stay subscribed.
      Getting started is easy: sign up, get your unique code, and start earning.
    </p>

    <p class="mobile-affiliate">
      Earn recurring income by referring users. Get 30% every month they stay subscribed.
    </p>

    <a class="link" href="/affiliateSignUp.html">Learn more about the affiliate program â†’</a>
  </section>

  <!-- Footer -->
  <footer class="site-footer container">
    <span>Â© <span id="year"></span> BeyondDEX. All rights reserved.</span>
    <nav class="foot-nav">
      <a href="/privacy">Privacy</a>
      <a href="/terms">Terms</a>
      <a href="/contact">Contact</a>
    </nav>
  </footer>

  <!-- Scripts -->
  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // CTA
    document.getElementById('joinWaitlistBtn').addEventListener('click', () => {
      window.location.href = '/waitlist.html';
    });

    // Mobile nav toggle
    const navToggle = document.getElementById('navToggle');
    const nav = document.getElementById('nav');
    navToggle.addEventListener('click', () => nav.classList.toggle('open'));

    // Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBbz_G9FNjS4cl0oi1221C3ZOACyZzEgK8",
      authDomain: "beyonddex-be653.firebaseapp.com",
      projectId: "beyonddex-be653",
      storageBucket: "beyonddex-be653.firebasestorage.app",
      messagingSenderId: "687411546401",
      appId: "1:687411546401:web:ec71401e52751d3e121660",
      measurementId: "G-6SH111LB7J"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    auth.onAuthStateChanged(async user => {
      const userCircle = document.getElementById("userCircle");
      const dropdownMenu = document.getElementById("dropdownMenu");

      if (user) {
        const doc = await db.collection("users").doc(user.uid).get();
        const username = doc.exists ? doc.data().username : "U";
        const initial = username.charAt(0).toUpperCase();
        userCircle.textContent = initial;
        dropdownMenu.innerHTML = `<a href="#" id="logout">Log Out</a>`;
        document.getElementById("logout").addEventListener("click", () => {
          auth.signOut().then(() => location.reload());
        });
      } else {
        userCircle.textContent = "+";
        dropdownMenu.innerHTML = `<a href="#" id="login">Log In</a>`;
        document.getElementById("login").addEventListener("click", () => {
          window.location.href = "/auth.html";
        });
      }
    });

    // User dropdown logic
    const userCircle = document.getElementById("userCircle");
    const dropdownMenu = document.getElementById("dropdownMenu");

    userCircle.addEventListener("click", () => {
      dropdownMenu.style.display = dropdownMenu.style.display === "block" ? "none" : "block";
    });

    window.addEventListener("click", e => {
      if (!userCircle.contains(e.target) && !dropdownMenu.contains(e.target)) {
        dropdownMenu.style.display = "none";
      }
    });
  </script>
</body>
</html>
